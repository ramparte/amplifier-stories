<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Canvas Becomes a Specialist Platform</title>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --accent: #30D158;
    --accent-dim: rgba(48, 209, 88, 0.15);
    --accent-mid: rgba(48, 209, 88, 0.35);
    --blue: #64D2FF;
    --blue-dim: rgba(100, 210, 255, 0.12);
    --orange: #FF9F0A;
    --orange-dim: rgba(255, 159, 10, 0.12);
    --bg: #000;
    --surface-1: rgba(255,255,255,0.04);
    --surface-2: rgba(255,255,255,0.08);
    --surface-3: rgba(255,255,255,0.12);
    --text-primary: rgba(255,255,255,0.95);
    --text-secondary: rgba(255,255,255,0.65);
    --text-tertiary: rgba(255,255,255,0.40);
    --radius: 14px;
  }

  html, body {
    height: 100%;
    background: var(--bg);
    color: var(--text-primary);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif;
    overflow: hidden;
  }

  .deck {
    width: 100vw;
    height: 100vh;
    position: relative;
  }

  .slide {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: clamp(40px, 6vw, 80px) clamp(40px, 8vw, 120px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }

  .slide.active {
    opacity: 1;
    pointer-events: all;
  }

  /* ── Nav ── */
  .nav-dots {
    position: fixed;
    bottom: 32px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 100;
  }

  .dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--text-tertiary);
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
  }

  .dot.active {
    background: var(--accent);
    transform: scale(1.4);
  }

  .counter {
    position: fixed;
    bottom: 30px;
    right: 36px;
    font-size: 12px;
    color: var(--text-tertiary);
    z-index: 100;
    font-variant-numeric: tabular-nums;
  }

  /* ── Shared type ── */
  .eyebrow {
    font-size: clamp(11px, 1.1vw, 13px);
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 20px;
  }

  h1 {
    font-size: clamp(36px, 5vw, 64px);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.03em;
    color: var(--text-primary);
    text-align: center;
  }

  h2 {
    font-size: clamp(26px, 3.2vw, 42px);
    font-weight: 700;
    line-height: 1.15;
    letter-spacing: -0.025em;
    color: var(--text-primary);
    margin-bottom: 36px;
    text-align: center;
  }

  .subtitle {
    font-size: clamp(15px, 1.6vw, 20px);
    color: var(--text-secondary);
    text-align: center;
    max-width: 600px;
    line-height: 1.5;
    margin-top: 20px;
  }

  .meta {
    font-size: 13px;
    color: var(--text-tertiary);
    margin-top: 36px;
    letter-spacing: 0.05em;
  }

  code {
    background: var(--surface-3);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: "SF Mono", Menlo, monospace;
    font-size: 0.85em;
    color: var(--blue);
  }

  /* ── Card grid ── */
  .cards {
    display: grid;
    gap: 16px;
    width: 100%;
    max-width: 900px;
  }

  .cards.cols-2 { grid-template-columns: 1fr 1fr; }
  .cards.cols-3 { grid-template-columns: 1fr 1fr 1fr; }

  .card {
    background: var(--surface-1);
    border: 1px solid var(--surface-3);
    border-radius: var(--radius);
    padding: 24px 28px;
  }

  .card.accent {
    background: var(--accent-dim);
    border-color: var(--accent-mid);
  }

  .card-label {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-tertiary);
    margin-bottom: 10px;
  }

  .card.accent .card-label { color: var(--accent); }

  .card-title {
    font-size: clamp(14px, 1.4vw, 17px);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
    line-height: 1.3;
  }

  .card-body {
    font-size: clamp(12px, 1.1vw, 14px);
    color: var(--text-secondary);
    line-height: 1.6;
  }

  /* ── Architecture stack (slide 3) ── */
  .stack {
    width: 100%;
    max-width: 780px;
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .stack-layer {
    display: grid;
    grid-template-columns: 36px 1fr;
    gap: 20px;
    align-items: flex-start;
    background: var(--surface-1);
    border: 1px solid var(--surface-2);
    border-radius: 0;
    padding: 18px 24px;
    position: relative;
  }

  .stack-layer:first-child { border-radius: var(--radius) var(--radius) 0 0; }
  .stack-layer:last-child  { border-radius: 0 0 var(--radius) var(--radius); }
  .stack-layer + .stack-layer { border-top: none; }

  .stack-layer.highlight {
    background: var(--accent-dim);
    border-color: var(--accent-mid);
  }

  .stack-num {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--surface-3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 700;
    color: var(--text-tertiary);
    flex-shrink: 0;
    margin-top: 1px;
  }

  .stack-layer.highlight .stack-num {
    background: var(--accent-mid);
    color: var(--accent);
  }

  .stack-name {
    font-size: clamp(13px, 1.3vw, 15px);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 4px;
  }

  .stack-desc {
    font-size: clamp(11px, 1.1vw, 13px);
    color: var(--text-secondary);
    line-height: 1.5;
  }

  /* ── Amplifier lessons table (slide 4) ── */
  .amplifier-table {
    width: 100%;
    max-width: 860px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .amp-row {
    display: grid;
    grid-template-columns: 220px 32px 1fr;
    align-items: center;
    gap: 16px;
    background: var(--surface-1);
    border: 1px solid var(--surface-2);
    border-radius: 10px;
    padding: 16px 22px;
    transition: border-color 0.2s;
  }

  .amp-row:hover {
    border-color: var(--blue-dim);
  }

  .amp-principle {
    font-size: clamp(12px, 1.2vw, 14px);
    color: var(--blue);
    font-weight: 600;
    font-style: italic;
    line-height: 1.35;
  }

  .amp-arrow {
    font-size: 16px;
    color: var(--text-tertiary);
    text-align: center;
  }

  .amp-application {
    font-size: clamp(12px, 1.1vw, 13px);
    color: var(--text-secondary);
    line-height: 1.55;
  }

  .amp-application code {
    color: var(--accent);
  }

  .amp-footer {
    margin-top: 22px;
    font-size: clamp(12px, 1.2vw, 14px);
    color: var(--text-tertiary);
    text-align: center;
    max-width: 680px;
    line-height: 1.6;
    font-style: italic;
  }

  .amp-footer em {
    color: var(--text-secondary);
    font-style: normal;
  }

  /* ── Pattern list (slide 5) ── */
  .pattern-list {
    width: 100%;
    max-width: 820px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .pattern-row {
    display: grid;
    grid-template-columns: 200px 36px 1fr;
    align-items: center;
    gap: 16px;
    background: var(--surface-1);
    border: 1px solid var(--surface-2);
    border-radius: 10px;
    padding: 16px 22px;
  }

  .pattern-name {
    font-size: clamp(12px, 1.2vw, 14px);
    color: var(--accent);
    font-weight: 600;
  }

  .arrow {
    font-size: 18px;
    color: var(--text-tertiary);
    text-align: center;
  }

  .pattern-detail {
    font-size: clamp(12px, 1.1vw, 13px);
    color: var(--text-secondary);
    line-height: 1.5;
  }

  /* ── Commit list (slide 5) ── */
  .commit-list {
    width: 100%;
    max-width: 780px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .commit-row {
    display: grid;
    grid-template-columns: 80px 1fr;
    gap: 16px;
    align-items: flex-start;
    background: var(--surface-1);
    border: 1px solid var(--surface-2);
    border-radius: 10px;
    padding: 14px 20px;
  }

  .commit-layer {
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    padding: 4px 10px;
    border-radius: 20px;
    text-align: center;
    white-space: nowrap;
  }

  .layer-1 { background: var(--blue-dim); color: var(--blue); }
  .layer-2 { background: rgba(191, 148, 255, 0.12); color: #BF94FF; }
  .layer-3 { background: var(--orange-dim); color: var(--orange); }
  .layer-4 { background: var(--accent-dim); color: var(--accent); }

  .commit-text {
    font-size: clamp(11px, 1.1vw, 13px);
    color: var(--text-secondary);
    line-height: 1.5;
  }

  .commit-text strong {
    color: var(--text-primary);
    font-weight: 600;
  }

  .commit-note {
    margin-top: 24px;
    font-size: clamp(13px, 1.3vw, 15px);
    color: var(--text-secondary);
    text-align: center;
    max-width: 680px;
    line-height: 1.6;
  }

  .commit-note em {
    color: var(--accent);
    font-style: normal;
    font-weight: 600;
  }

  /* ── Before / After split (slide 6) ── */
  .split {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    width: 100%;
    max-width: 900px;
  }

  .split-col {
    background: var(--surface-1);
    border: 1px solid var(--surface-2);
    border-radius: var(--radius);
    padding: 28px;
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  .split-col.after {
    background: var(--accent-dim);
    border-color: var(--accent-mid);
  }

  .split-heading {
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-tertiary);
    margin-bottom: 4px;
  }

  .split-col.after .split-heading { color: var(--accent); }

  .split-item {
    font-size: clamp(12px, 1.2vw, 14px);
    color: var(--text-secondary);
    line-height: 1.5;
    padding-left: 16px;
    position: relative;
  }

  .split-item::before {
    content: "–";
    position: absolute;
    left: 0;
    color: var(--text-tertiary);
  }

  .split-col.after .split-item::before {
    content: "✓";
    color: var(--accent);
  }

  .split-col.after .split-item { color: var(--text-primary); }

  /* ── Takeaway (slide 7) ── */
  .takeaway-quote {
    font-size: clamp(22px, 3vw, 38px);
    font-weight: 700;
    line-height: 1.3;
    letter-spacing: -0.02em;
    text-align: center;
    max-width: 720px;
    color: var(--text-primary);
  }

  .takeaway-quote em {
    font-style: normal;
    color: var(--accent);
  }

  .takeaway-sub {
    margin-top: 28px;
    font-size: clamp(13px, 1.3vw, 16px);
    color: var(--text-secondary);
    text-align: center;
    max-width: 580px;
    line-height: 1.6;
  }

  .takeaway-layers {
    margin-top: 36px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .layer-chip {
    font-size: 12px;
    font-weight: 600;
    padding: 6px 14px;
    border-radius: 20px;
    letter-spacing: 0.04em;
  }
</style>
</head>
<body>
<div class="deck" id="deck">

  <!-- ─── Slide 1: Title ─── -->
  <div class="slide active" data-index="0">
    <div class="eyebrow">Canvas · February 23–24, 2026</div>
    <h1>Canvas Becomes a<br>Specialist Platform</h1>
    <p class="subtitle">How two days of focused commits turned a chat app into a multi-agent routing platform — with extensible registration, real-time status feedback, and first-class personas</p>
    <div class="meta">Amplifier Case Study · February 2026</div>
  </div>

  <!-- ─── Slide 2: Before ─── -->
  <div class="slide" data-index="1">
    <div class="eyebrow">The Before</div>
    <h2>Canvas had specialists.<br>It wasn't a platform.</h2>
    <div class="cards cols-2" style="max-width: 840px;">
      <div class="card">
        <div class="card-label">What existed</div>
        <div class="card-body">Summarizer and Slides were available as modes. They worked. But they were baked in — no routing, no registry, no way to add a third one without touching core code.</div>
      </div>
      <div class="card">
        <div class="card-label">What was missing</div>
        <div class="card-body">No routing intelligence. No visual feedback during specialist work. No distinct identity per specialist — every mode felt like the same chat box with a different system prompt.</div>
      </div>
      <div class="card accent" style="grid-column: 1 / -1;">
        <div class="card-label">The gap</div>
        <div class="card-body" style="color: var(--text-primary);">Adding a specialist required knowing where all the wiring lived and touching it carefully. There was no <em>pattern</em> — just code that happened to exist in the right places.</div>
      </div>
    </div>
  </div>

  <!-- ─── Slide 3: The Architecture ─── -->
  <div class="slide" data-index="2">
    <div class="eyebrow">The Architecture</div>
    <h2>Four layers. Every specialist wires all four.</h2>
    <div class="stack">
      <div class="stack-layer">
        <div class="stack-num">1</div>
        <div>
          <div class="stack-name">Frontend Plugin + Registry</div>
          <div class="stack-desc">Defines the specialist's UI: icon, label, metadata, and the <code>featured</code> flag that controls whether it appears in the curated dropdown. No hardcoded lists.</div>
        </div>
      </div>
      <div class="stack-layer">
        <div class="stack-num">2</div>
        <div>
          <div class="stack-name">Agent Registry</div>
          <div class="stack-desc">Registers the sub-agent with its own system prompt, persona, and capability contract. Each specialist is an independently defined agent — not a branch in a shared prompt.</div>
        </div>
      </div>
      <div class="stack-layer">
        <div class="stack-num">3</div>
        <div>
          <div class="stack-name">Orchestrator Team Knowledge</div>
          <div class="stack-desc">Tells the orchestrator this specialist exists and what it's for. The orchestrator uses this to route user requests to the right agent without the user having to name it.</div>
        </div>
      </div>
      <div class="stack-layer highlight">
        <div class="stack-num">4</div>
        <div>
          <div class="stack-name">AgentManager Routing + SpecialistStatusCard</div>
          <div class="stack-desc">Connects the request to the sub-agent at runtime. The <code>SpecialistStatusCard</code> surfaces live state — <strong>working → complete → error</strong> — in the Terminal, decoupled from the agent itself.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ─── Slide 4: What Amplifier Taught Us ─── -->
  <div class="slide" data-index="3">
    <div class="eyebrow">What Amplifier Taught Us</div>
    <h2>Canvas didn't invent this architecture.<br>It learned it.</h2>
    <div class="amplifier-table">
      <div class="amp-row">
        <span class="amp-principle">Mechanism, not policy</span>
        <span class="amp-arrow">→</span>
        <span class="amp-application"><code>featured</code> flag — the platform defines curation rules; no specialist is hardcoded into any list</span>
      </div>
      <div class="amp-row">
        <span class="amp-principle">Bricks and studs</span>
        <span class="amp-arrow">→</span>
        <span class="amp-application">The 4-layer contract — each specialist is a self-contained, independently swappable unit that connects through the same interface every time</span>
      </div>
      <div class="amp-row">
        <span class="amp-principle">The center stays still</span>
        <span class="amp-arrow">→</span>
        <span class="amp-application">The contract is stable across all specialists; each implementation can vary freely without touching shared infrastructure</span>
      </div>
      <div class="amp-row">
        <span class="amp-principle">Sub-agent delegation</span>
        <span class="amp-arrow">→</span>
        <span class="amp-application">Each specialist is a proper Amplifier sub-agent — not a mode, not a flag, not a prompt switch inside the orchestrator</span>
      </div>
    </div>
    <p class="amp-footer">The same principles that make Amplifier modular <em>made Canvas extensible</em>. Building on the platform meant absorbing its philosophy.</p>
  </div>

  <!-- ─── Slide 5: The Patterns ─── -->
  <div class="slide" data-index="4">
    <div class="eyebrow">The Patterns</div>
    <h2>Four decisions that made it composable</h2>
    <div class="pattern-list">
      <div class="pattern-row">
        <span class="pattern-name">Sub-agent per specialist</span>
        <span class="arrow">→</span>
        <span class="pattern-detail">Each specialist is an independently registered agent. The orchestrator delegates — it doesn't branch internally. Specialists are isolated and testable on their own.</span>
      </div>
      <div class="pattern-row">
        <span class="pattern-name"><code>featured</code> flag</span>
        <span class="arrow">→</span>
        <span class="pattern-detail">Curation without hardcoding. The dropdown shows only <code>featured: true</code> specialists. Adding a specialist to the curated list is a one-field change in metadata.</span>
      </div>
      <div class="pattern-row">
        <span class="pattern-name">SpecialistStatusCard</span>
        <span class="arrow">→</span>
        <span class="pattern-detail">Status feedback is a separate UI component wired to the Terminal — not baked into each agent. All specialists get working / complete / error states for free.</span>
      </div>
      <div class="pattern-row">
        <span class="pattern-name">Persona-first greeting</span>
        <span class="arrow">→</span>
        <span class="pattern-detail">Each specialist shows its own message in the Terminal empty state. Identity isn't a setting — it's the first thing the user sees. Persona is first-class, not an afterthought.</span>
      </div>
    </div>
  </div>

  <!-- ─── Slide 6: Blog Writer = Proof ─── -->
  <div class="slide" data-index="5">
    <div class="eyebrow">The Proof</div>
    <h2>Blog Writer: 4 commits, 4 layers, done.</h2>
    <div class="commit-list">
      <div class="commit-row">
        <span class="commit-layer layer-1">Layer 1</span>
        <div class="commit-text"><strong>Frontend plugin, icon, and plugin registry</strong> — Blog Writer appears in the UI with its own identity and is discoverable in the dropdown</div>
      </div>
      <div class="commit-row">
        <span class="commit-layer layer-2">Layer 2</span>
        <div class="commit-text"><strong>Sub-agent definition and agent registry</strong> — Blog Writer is a named agent with its own instructions and persona, registered independently</div>
      </div>
      <div class="commit-row">
        <span class="commit-layer layer-3">Layer 3</span>
        <div class="commit-text"><strong>Orchestrator team knowledge</strong> — the orchestrator now knows Blog Writer exists and what kinds of requests to route to it</div>
      </div>
      <div class="commit-row">
        <span class="commit-layer layer-4">Layer 4</span>
        <div class="commit-text"><strong>AgentManager routing</strong> — Blog Writer requests are connected to the sub-agent at runtime</div>
      </div>
    </div>
    <p class="commit-note">Blog Writer was the <em>third</em> specialist. Adding it required touching all four layers — and each commit was small and contained. The pattern absorbed the complexity.</p>
  </div>

  <!-- ─── Slide 7: Before → After ─── -->
  <div class="slide" data-index="6">
    <div class="eyebrow">The Transformation</div>
    <h2>Same app. Different platform.</h2>
    <div class="split">
      <div class="split-col">
        <div class="split-heading">Before</div>
        <div class="split-item">Specialists were baked in, not registered</div>
        <div class="split-item">User had to know which mode to pick</div>
        <div class="split-item">No visual feedback during specialist work</div>
        <div class="split-item">Every specialist felt like the same chat interface</div>
        <div class="split-item">Adding a new specialist meant scattered changes</div>
        <div class="split-item">Curation required editing hardcoded lists</div>
      </div>
      <div class="split-col after">
        <div class="split-heading">After</div>
        <div class="split-item">Specialists register via plugin registry and agent registry</div>
        <div class="split-item">Orchestrator routes to the right specialist automatically</div>
        <div class="split-item">SpecialistStatusCard: working → complete → error</div>
        <div class="split-item">Each specialist greets you differently — persona is the opening</div>
        <div class="split-item">New specialist = 4 focused commits, one per layer</div>
        <div class="split-item"><code>featured: true</code> adds to the curated dropdown</div>
      </div>
    </div>
  </div>

  <!-- ─── Slide 8: Build This ─── -->
  <div class="slide" data-index="7">
    <div class="eyebrow">For Amplifier Builders</div>
    <p class="takeaway-quote">A specialist platform is just<br>a <em>consistent four-layer contract</em><br>applied to every agent.</p>
    <p class="takeaway-sub">If you're building a tool-launching or multi-agent routing experience, these are the four seams worth establishing early. Once the layers exist, every new specialist follows the same template.</p>
    <div class="takeaway-layers">
      <span class="commit-layer layer-1">Plugin Registry</span>
      <span class="commit-layer layer-2">Agent Registry</span>
      <span class="commit-layer layer-3">Orchestrator Knowledge</span>
      <span class="commit-layer layer-4">AgentManager Routing</span>
    </div>
  </div>

</div><!-- /deck -->

<!-- Nav dots -->
<div class="nav-dots" id="navDots"></div>
<div class="counter" id="counter">1 / 8</div>

<script>
  const slides = document.querySelectorAll('.slide');
  const dotsEl  = document.getElementById('navDots');
  const counterEl = document.getElementById('counter');
  let current = 0;
  const total = slides.length;

  // Build dots
  slides.forEach((_, i) => {
    const d = document.createElement('div');
    d.className = 'dot' + (i === 0 ? ' active' : '');
    d.addEventListener('click', () => goTo(i));
    dotsEl.appendChild(d);
  });

  function goTo(n) {
    slides[current].classList.remove('active');
    dotsEl.children[current].classList.remove('active');
    current = Math.max(0, Math.min(total - 1, n));
    slides[current].classList.add('active');
    dotsEl.children[current].classList.add('active');
    counterEl.textContent = `${current + 1} / ${total}`;
  }

  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') goTo(current + 1);
    if (e.key === 'ArrowLeft'  || e.key === 'ArrowUp')                     goTo(current - 1);
  });

  document.addEventListener('click', e => {
    const x = e.clientX / window.innerWidth;
    if (x > 0.6) goTo(current + 1);
    else if (x < 0.4) goTo(current - 1);
  });
</script>
</body>
</html>
