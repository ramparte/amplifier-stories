<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Cortex Â· Built with Amplifier</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            /* Fluid typography */
            --font-headline: clamp(36px, 8vw, 72px);
            --font-medium-headline: clamp(24px, 5vw, 48px);
            --font-subhead: clamp(16px, 3vw, 28px);
            --font-body: clamp(14px, 2.5vw, 16px);
            --font-small: clamp(12px, 1.8vw, 14px);
            --font-code: clamp(13px, 2vw, 15px);

            /* Fluid spacing */
            --padding-slide: clamp(60px, 10vw, 120px) clamp(20px, 5vw, 80px) clamp(80px, 12vw, 100px);
            --gap-grid: clamp(16px, 3vw, 40px);
            --radius-card: clamp(12px, 2vw, 16px);

            /* Accent: Blue per color palette (Cortex) */
            --accent: #0A84FF;
            --accent-dim: rgba(10, 132, 255, 0.15);
            --accent-light: #5AC8FA;
            --success: #30D158;
            --warning: #FFD60A;

            /* Surface hierarchy */
            --surface-1: rgba(255,255,255,0.06);
            --surface-2: rgba(255,255,255,0.10);
            --surface-3: rgba(255,255,255,0.15);
            --border-subtle: rgba(255,255,255,0.12);
            --border-visible: rgba(255,255,255,0.20);

            /* Text hierarchy */
            --text-primary: #ffffff;
            --text-secondary: rgba(255,255,255,0.7);
            --text-tertiary: rgba(255,255,255,0.5);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: #fff;
            overflow: hidden;
            overscroll-behavior: none;
        }

        /* Slide framework */
        .slide {
            display: none;
            width: 100vw;
            min-height: 100vh;
            min-height: 100dvh;
            padding: var(--padding-slide);
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }
        .slide.active { display: flex; }
        .center { text-align: center; align-items: center; justify-content: center; }

        /* Typography */
        .headline {
            font-size: var(--font-headline);
            font-weight: 700;
            letter-spacing: clamp(-1px, -0.03em, -2px);
            line-height: 1.1;
            margin-bottom: clamp(16px, 3vw, 24px);
        }
        .medium-headline {
            font-size: var(--font-medium-headline);
            font-weight: 600;
            letter-spacing: -1px;
            line-height: 1.2;
            margin-bottom: clamp(16px, 3vw, 24px);
        }
        .subhead {
            font-size: var(--font-subhead);
            font-weight: 400;
            color: var(--text-secondary);
            line-height: 1.4;
        }
        .section-label {
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            margin-bottom: clamp(12px, 2vw, 16px);
        }
        .small-text {
            font-size: var(--font-small);
            color: var(--text-tertiary);
            margin-top: clamp(12px, 2vw, 16px);
        }

        /* Status badge */
        .status-badge {
            display: inline-block;
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--success);
            border: 1px solid var(--success);
            border-radius: 20px;
            padding: 4px 16px;
            margin-top: clamp(16px, 3vw, 24px);
        }

        /* Grid layouts */
        .thirds {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(24px, 4vw, 40px);
        }
        .halves {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(24px, 4vw, 40px);
        }
        .quarters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(24px, 4vw, 40px);
        }

        /* Cards */
        .card {
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-card);
            padding: clamp(20px, 4vw, 32px);
        }
        .card-icon { font-size: clamp(28px, 5vw, 48px); margin-bottom: clamp(8px, 1.5vw, 12px); }
        .card h3, .card-title {
            font-size: clamp(16px, 3vw, 20px);
            font-weight: 600;
            color: var(--accent);
            margin-bottom: clamp(8px, 1.5vw, 12px);
        }
        .card p, .card-text {
            font-size: var(--font-body);
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Architecture diagram */
        .arch-diagram {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            gap: clamp(12px, 2vw, 24px);
            margin: clamp(24px, 4vw, 40px) 0;
        }
        .arch-group {
            display: flex;
            flex-direction: column;
            gap: clamp(8px, 1.5vw, 12px);
        }
        .arch-box {
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-card);
            padding: clamp(12px, 2vw, 20px) clamp(16px, 3vw, 28px);
            text-align: center;
        }
        .arch-box.highlight {
            border-color: var(--accent);
            box-shadow: 0 0 24px rgba(10, 132, 255, 0.2);
        }
        .arch-label {
            font-size: var(--font-body);
            font-weight: 600;
            color: var(--text-primary);
        }
        .arch-desc {
            font-size: var(--font-small);
            color: var(--text-tertiary);
            margin-top: 4px;
        }
        .arch-arrow {
            font-size: clamp(20px, 3vw, 28px);
            color: var(--text-tertiary);
        }

        /* Flow diagram */
        .flow-diagram {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: clamp(8px, 1.5vw, 16px);
            margin: clamp(20px, 3vw, 32px) 0;
        }
        .flow-box {
            background: var(--surface-1);
            border: 1px solid rgba(10, 132, 255, 0.3);
            border-radius: var(--radius-card);
            padding: clamp(12px, 2vw, 20px) clamp(16px, 3vw, 24px);
            text-align: center;
            font-size: var(--font-body);
            color: var(--text-secondary);
        }
        .flow-box strong { color: var(--text-primary); }
        .flow-arrow { font-size: clamp(20px, 3vw, 28px); color: var(--text-tertiary); }

        /* Highlight box */
        .highlight-box {
            background: linear-gradient(135deg, var(--accent-dim), rgba(10, 132, 255, 0.08));
            border: 1px solid rgba(10, 132, 255, 0.3);
            border-radius: var(--radius-card);
            padding: clamp(16px, 3vw, 24px) clamp(20px, 4vw, 32px);
            margin: clamp(16px, 3vw, 24px) 0;
            font-size: var(--font-body);
            line-height: 1.5;
            color: var(--text-secondary);
        }
        .highlight-box strong { color: var(--text-primary); }

        /* Quote block */
        .quote-block {
            max-width: 900px;
            margin: clamp(16px, 3vw, 24px) 0;
        }
        .quote-text {
            font-size: clamp(18px, 3.5vw, 32px);
            font-weight: 400;
            font-style: italic;
            line-height: 1.6;
            color: var(--text-primary);
        }
        .quote-author {
            font-size: var(--font-body);
            font-weight: 500;
            color: var(--accent);
            margin-top: clamp(16px, 2vw, 24px);
        }

        /* Feature list */
        .feature-list { list-style: none; margin-top: clamp(16px, 3vw, 24px); }
        .feature-list li {
            font-size: clamp(16px, 3vw, 20px);
            padding: clamp(10px, 1.5vw, 14px) 0;
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            align-items: center;
            gap: clamp(12px, 2vw, 16px);
            color: var(--text-secondary);
        }
        .feature-list li:last-child { border-bottom: none; }
        .check { color: var(--success); font-size: clamp(20px, 3vw, 24px); flex-shrink: 0; }

        /* Stat row */
        .stat-row {
            display: flex;
            flex-wrap: wrap;
            gap: clamp(24px, 5vw, 60px);
            margin-top: clamp(24px, 4vw, 40px);
            justify-content: center;
        }
        .stat { text-align: center; min-width: 120px; }
        .stat-number {
            font-size: clamp(36px, 8vw, 64px);
            font-weight: 700;
            color: var(--accent);
        }
        .stat-label {
            font-size: var(--font-body);
            color: var(--text-secondary);
            margin-top: clamp(4px, 1vw, 8px);
        }

        /* Velocity grid */
        .velocity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(160px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(24px, 4vw, 40px);
        }
        .velocity-stat { text-align: center; }
        .velocity-number {
            font-size: clamp(48px, 12vw, 80px);
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .velocity-label {
            font-size: var(--font-body);
            color: var(--text-secondary);
            margin-top: clamp(4px, 1vw, 8px);
        }

        /* Repo cards */
        .repo-card {
            background: var(--surface-1);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-card);
            padding: clamp(20px, 4vw, 32px);
            text-align: left;
        }
        .repo-name {
            font-size: clamp(16px, 3vw, 20px);
            font-weight: 600;
            color: var(--accent);
            margin-bottom: clamp(6px, 1vw, 10px);
        }
        .repo-desc {
            font-size: var(--font-body);
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: clamp(8px, 1.5vw, 12px);
        }
        .repo-meta {
            font-size: var(--font-small);
            color: var(--text-tertiary);
        }

        /* Sources slide */
        .sources-content {
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: var(--font-body);
            text-align: left;
            max-width: 800px;
        }
        .sources-content strong { color: var(--text-primary); }
        .sources-content code {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: var(--font-small);
            background: var(--surface-1);
            padding: 2px 6px;
            border-radius: 4px;
        }
        .sources-content ul { list-style: disc; padding-left: 24px; margin: 6px 0; }
        .sources-content li { margin: 3px 0; }

        /* Navigation */
        .nav {
            position: fixed;
            bottom: clamp(20px, 4vw, 30px);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: clamp(6px, 1vw, 8px);
            z-index: 100;
            padding: 8px;
        }
        .nav-dot {
            width: clamp(10px, 2vw, 8px);
            height: clamp(10px, 2vw, 8px);
            min-width: 10px;
            min-height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .nav-dot.active {
            background: var(--accent);
            width: clamp(20px, 3vw, 24px);
            border-radius: 4px;
        }
        .slide-counter {
            position: fixed;
            bottom: clamp(20px, 4vw, 30px);
            right: clamp(20px, 4vw, 40px);
            font-size: var(--font-small);
            color: var(--text-tertiary);
        }
        .more-stories {
            position: fixed;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            font-size: clamp(11px, 1.5vw, 12px);
            color: rgba(255,255,255,0.3);
            text-decoration: none;
            z-index: 100;
        }
        .more-stories:hover { color: var(--text-tertiary); }

        /* Responsive */
        @media (max-width: 600px) {
            .flow-arrow { display: none; }
            .flow-diagram { flex-direction: column; }
            .arch-arrow { display: none; }
            .arch-diagram { flex-direction: column; }
            .arch-group { flex-direction: row; flex-wrap: wrap; justify-content: center; }
        }
        @media (max-height: 500px) and (orientation: landscape) {
            .slide { padding: 16px clamp(20px, 5vw, 80px) 60px; }
            .slide.center { justify-content: flex-start; }
        }
        @media (hover: none) {
            .nav-dot { min-width: 14px; min-height: 14px; }
        }
        @media (prefers-reduced-motion: reduce) {
            .slide, .slide * { animation: none !important; transition: none !important; }
        }
    </style>
</head>
<body>
    <!-- Slide 1: Title -->
    <div class="slide active center">
        <div class="section-label">Built with Amplifier</div>
        <h1 class="headline">Cortex</h1>
        <p class="subhead">Personal AI assistant platform &mdash; manages attention,<br>automates tasks, acts on your behalf across devices.</p>
        <div class="status-badge">&#10003; Active</div>
        <div class="small-text">bkrabach &middot; January&ndash;February 2026</div>
    </div>

    <!-- Slide 2: The Problem -->
    <div class="slide">
        <div class="section-label">The Problem</div>
        <h2 class="headline">Your attention is under siege</h2>
        <div class="thirds">
            <div class="card">
                <div class="card-icon">&#x1F514;</div>
                <div class="card-title">Everything Screams Equally</div>
                <p>Every app competes for your attention with the same urgency. A reaction emoji gets the same treatment as a message from your manager.</p>
            </div>
            <div class="card">
                <div class="card-icon">&#x1F9E9;</div>
                <div class="card-title">Fragmented Across Devices</div>
                <p>Phone, desktop, tablet &mdash; each runs its own silo. No shared intelligence. No cross-device awareness of what matters to you.</p>
            </div>
            <div class="card">
                <div class="card-icon">&#x1F916;</div>
                <div class="card-title">AI That Doesn't Know You</div>
                <p>Today's assistants are stateless. They don't learn your preferences, don't understand your relationships, and can't act on your behalf.</p>
            </div>
        </div>
    </div>

    <!-- Slide 3: The Vision -->
    <div class="slide center">
        <div class="section-label">The Vision</div>
        <h2 class="headline">A personal AI<br>that truly knows you</h2>
        <p class="subhead">One brain across all your devices. Domain experts for every part of your life. Always learning, always protecting.</p>
    </div>

    <!-- Slide 4: Architecture -->
    <div class="slide">
        <div class="section-label">Architecture</div>
        <h2 class="medium-headline">Hub and spoke &mdash; central intelligence with domain experts</h2>

        <div class="arch-diagram">
            <div class="arch-group">
                <div class="arch-box">
                    <div class="arch-label">&#x1F4F1; Phone</div>
                </div>
                <div class="arch-box">
                    <div class="arch-label">&#x1F4BB; Desktop</div>
                </div>
                <div class="arch-box">
                    <div class="arch-label">&#x231A; Watch</div>
                </div>
            </div>
            <div class="arch-arrow">&#x2192;</div>
            <div class="arch-box highlight">
                <div class="arch-label">&#x1F9E0; Cortex Core</div>
                <div class="arch-desc">Always-on AI hub</div>
            </div>
            <div class="arch-arrow">&#x2192;</div>
            <div class="arch-group">
                <div class="arch-box">
                    <div class="arch-label">&#x1F6E1;&#xFE0F; Attention</div>
                </div>
                <div class="arch-box">
                    <div class="arch-label">&#x1F4B0; Finance</div>
                </div>
                <div class="arch-box">
                    <div class="arch-label">&#x1F3C3; Health</div>
                </div>
            </div>
        </div>

        <div class="highlight-box">
            <strong>All devices report to one brain.</strong> Domain experts provide specialized knowledge. The Attention Firewall is the first working expert, filtering notifications in real time on Windows.
        </div>
    </div>

    <!-- Slide 5: The Stack -->
    <div class="slide">
        <div class="section-label">The Stack</div>
        <h2 class="medium-headline">Three repositories, one system</h2>
        <div class="thirds">
            <div class="repo-card">
                <div class="repo-name">cortex</div>
                <div class="repo-desc">Orchestration layer and personal AI platform. Manages attention, automates tasks, coordinates domain experts.</div>
                <div class="repo-meta">16 commits &middot; Created Jan 13, 2026</div>
            </div>
            <div class="repo-card">
                <div class="repo-name">amplifier-app-server</div>
                <div class="repo-desc">Always-on Amplifier server runtime. Hosts persistent AI sessions with HTTP/WebSocket API, extensible via bundles.</div>
                <div class="repo-meta">90 commits &middot; Created Jan 9, 2026</div>
            </div>
            <div class="repo-card">
                <div class="repo-name">amplifier-bundle-attention-firewall</div>
                <div class="repo-desc">AI-powered Windows notification controller. Filters notifications, surfaces what matters, batches the rest.</div>
                <div class="repo-meta">46 commits &middot; Updated Feb 19, 2026</div>
            </div>
        </div>
        <div class="small-text">All repositories under bkrabach/ &middot; Sole contributor: bkrabach</div>
    </div>

    <!-- Slide 6: Attention Firewall -->
    <div class="slide">
        <div class="section-label">First Domain Expert</div>
        <h2 class="medium-headline">Attention Firewall &mdash; working now</h2>

        <div class="flow-diagram">
            <div class="flow-box"><strong>Notification</strong><br>arrives</div>
            <div class="flow-arrow">&#x2192;</div>
            <div class="flow-box"><strong>Evaluate</strong><br>rules + LLM</div>
            <div class="flow-arrow">&#x2192;</div>
            <div class="flow-box"><strong>VIP?</strong><br>always surface</div>
            <div class="flow-arrow">&#x2192;</div>
            <div class="flow-box"><strong>Classify</strong><br>surface / batch / suppress</div>
        </div>

        <div class="halves">
            <div class="card">
                <div class="card-icon">&#x1F6E1;&#xFE0F;</div>
                <div class="card-title">Configurable Rules</div>
                <p>VIP senders, priority keywords, noise patterns, per-app defaults. All defined in a single YAML configuration file.</p>
            </div>
            <div class="card">
                <div class="card-icon">&#x1F4CB;</div>
                <div class="card-title">Amplifier Integration</div>
                <p>Runs as a first-class Amplifier bundle. Query the notification database conversationally: &ldquo;What did I miss in the last 2 hours?&rdquo;</p>
            </div>
        </div>
    </div>

    <!-- Slide 7: Developer Philosophy -->
    <div class="slide center">
        <div class="section-label">Development Approach</div>
        <div class="quote-block">
            <div class="quote-text">&ldquo;I did NO technical directing down in the weeds. I explained outcomes, asked what was possible, told it to try things, and gave my feedback.&rdquo;</div>
            <div class="quote-author">&mdash; Brian Krabach, Lead Developer</div>
        </div>

        <ul class="feature-list">
            <li><span class="check">&#x2713;</span> Explain the outcome you need</li>
            <li><span class="check">&#x2713;</span> Ask what's possible</li>
            <li><span class="check">&#x2713;</span> Tell it to try things</li>
            <li><span class="check">&#x2713;</span> Give feedback on results</li>
            <li><span class="check">&#x2713;</span> Iterate until it works</li>
        </ul>
    </div>

    <!-- Slide 8: Impact -->
    <div class="slide">
        <div class="section-label">Impact</div>
        <h2 class="headline">What Cortex delivers</h2>
        <div class="thirds">
            <div class="card">
                <div class="card-icon">&#x1F6E1;&#xFE0F;</div>
                <div class="card-title">Attention Protection</div>
                <p>Notifications are filtered before they reach you. Only what matters gets through &mdash; the rest is batched or silenced entirely.</p>
            </div>
            <div class="card">
                <div class="card-icon">&#x1F310;</div>
                <div class="card-title">Always-On Runtime</div>
                <p>A persistent server that hosts AI sessions continuously. No manual startup, no lost context. HTTP and WebSocket APIs for any client.</p>
            </div>
            <div class="card">
                <div class="card-icon">&#x1F4E6;</div>
                <div class="card-title">Extensible by Design</div>
                <p>Built on Amplifier's bundle system. New domain experts plug in without changing the core. The attention firewall was the first; more can follow.</p>
            </div>
        </div>

        <div class="highlight-box">
            <strong>From vision to working system in ~6 weeks.</strong> A single developer built the orchestration layer, always-on server runtime, and a fully operational notification filtering system &mdash; all on the Amplifier platform.
        </div>
    </div>

    <!-- Slide 9: Velocity -->
    <div class="slide center">
        <div class="section-label">Development</div>
        <h2 class="medium-headline">Built in ~6 weeks</h2>

        <div class="velocity-grid">
            <div class="velocity-stat">
                <div class="velocity-number">3</div>
                <div class="velocity-label">Repositories</div>
            </div>
            <div class="velocity-stat">
                <div class="velocity-number">152</div>
                <div class="velocity-label">Total commits</div>
            </div>
            <div class="velocity-stat">
                <div class="velocity-number">1</div>
                <div class="velocity-label">Contributor</div>
            </div>
            <div class="velocity-stat">
                <div class="velocity-number">~6</div>
                <div class="velocity-label">Weeks (Jan 9 &ndash; Feb 19)</div>
            </div>
        </div>

        <div class="small-text">
            cortex: 16 commits (Jan 13 &ndash; Feb 4) &middot;
            amplifier-app-server: 90 commits (Jan 9 &ndash; Feb 12) &middot;
            attention-firewall: 46 commits (Jan 9 &ndash; Feb 19)<br>
            Sole contributor: bkrabach (100% of commits across all 3 repos)
        </div>
    </div>

    <!-- Slide 10: Sources & Methodology -->
    <div class="slide">
        <div class="section-label">Sources</div>
        <h2 class="medium-headline">Research Methodology</h2>
        <div class="sources-content">
            <p><strong>Data as of:</strong> February 20, 2026</p>
            <p><strong>Feature status:</strong> Active (attention-firewall updated Feb 19, 2026)</p>
            <p><strong>Research performed:</strong></p>
            <ul>
                <li>Repo metadata: <code>gh repo view bkrabach/cortex</code> &mdash; 16 commits, created Jan 13</li>
                <li>Repo metadata: <code>gh repo view bkrabach/amplifier-app-server</code> &mdash; 90 commits, created Jan 9</li>
                <li>Repo metadata: <code>gh repo view bkrabach/amplifier-bundle-attention-firewall</code> &mdash; 46 commits, created Jan 9</li>
                <li>Commit counts verified via GitHub API (gh api repos/{owner}/{repo}/commits)</li>
                <li>Contributor analysis: sole contributor bkrabach across all 3 repos</li>
                <li>Date ranges extracted from repo creation dates and last-updated timestamps</li>
            </ul>
            <p><strong>Gaps:</strong> No local clone of the cortex repo was available for code-level analysis. Commit counts are from GitHub API metadata, not individual git log enumeration. Line counts and code quality metrics were not gathered. No usage metrics or notification processing stats are available for this deck (those belong to the separate Attention Firewall deck where DB access exists).</p>
            <p><strong>Primary contributor:</strong> bkrabach (100% of commits in all 3 repositories)</p>
        </div>
    </div>

    <!-- Slide 11: CTA -->
    <div class="slide center">
        <h2 class="headline">Your AI, your way.</h2>
        <p class="subhead">3 repos. 152 commits. One developer.<br>A personal AI platform &mdash; built with Amplifier.</p>

        <div class="thirds">
            <div class="card">
                <div class="card-title">Cortex</div>
                <p>github.com/bkrabach/cortex</p>
            </div>
            <div class="card">
                <div class="card-title">App Server</div>
                <p>github.com/bkrabach/amplifier-app-server</p>
            </div>
            <div class="card">
                <div class="card-title">Attention Firewall</div>
                <p>github.com/bkrabach/amplifier-bundle-attention-firewall</p>
            </div>
        </div>

        <div class="small-text">Built with Amplifier</div>
    </div>

    <!-- Navigation -->
    <div class="nav" id="nav"></div>
    <div class="slide-counter" id="counter"></div>
    <a href="index.html" class="more-stories">More Amplifier Stories</a>

    <script>
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        let touchStartX = 0;
        let touchEndX = 0;
        const SWIPE_THRESHOLD = 50;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + slides.length) % slides.length;
            slides[currentSlide].classList.add('active');
            updateNav();
        }

        function updateNav() {
            const nav = document.getElementById('nav');
            const counter = document.getElementById('counter');
            nav.innerHTML = '';
            slides.forEach((_, i) => {
                const dot = document.createElement('div');
                dot.className = 'nav-dot' + (i === currentSlide ? ' active' : '');
                dot.onclick = (e) => { e.stopPropagation(); showSlide(i); };
                nav.appendChild(dot);
            });
            counter.textContent = `${currentSlide + 1} / ${slides.length}`;
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') showSlide(currentSlide + 1);
            if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
        });

        document.addEventListener('click', (e) => {
            if (e.target.closest('.nav') || e.target.closest('.more-stories')) return;
            if (e.clientX > window.innerWidth / 2) showSlide(currentSlide + 1);
            else showSlide(currentSlide - 1);
        });

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            if (e.target.closest('.nav') || e.target.closest('.more-stories')) return;
            touchEndX = e.changedTouches[0].screenX;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > SWIPE_THRESHOLD) {
                if (diff > 0) showSlide(currentSlide + 1);
                else showSlide(currentSlide - 1);
            }
        }, { passive: true });

        updateNav();
    </script>
</body>
</html>